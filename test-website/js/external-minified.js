// external-minified.js - 压缩的JS文件（模拟生产环境）
!function(){const e={apiKey:"sk_prod_1234567890abcdefghijklmnopqrstuvwxyz",apiSecret:"secret_key_do_not_expose_in_client",dbHost:"mysql://admin:P@ssw0rd@db.internal.company.com:3306/production",redisUrl:"redis://:SuperSecret123@cache.internal.company.com:6379"};class t{constructor(){this.config=e,this.baseUrl="https://api.production.com/v2"}async makeRequest(e,t="GET",n=null){const s=await fetch(`${this.baseUrl}${e}`,{method:t,headers:{"Content-Type":"application/json","X-API-Key":this.config.apiKey,"X-API-Secret":this.config.apiSecret},body:n?JSON.stringify(n):null});return await s.json()}async getSecretData(){return await this.makeRequest("/internal/secrets")}async executeAdminCommand(e){return await this.makeRequest("/admin/execute","POST",{command:e,auth:this.config.apiSecret})}}class n{constructor(){this.jwtSecret="super-secret-jwt-key-2024-do-not-share"}generateToken(e,t){const n={userId:e,role:t,timestamp:Date.now()},s=btoa(JSON.stringify(n)),i=this.sign(s);return`${s}.${i}`}sign(e){return btoa(e+this.jwtSecret)}verify(e){const[t,n]=e.split(".");return n===this.sign(t)}decode(e){const[t]=e.split(".");return JSON.parse(atob(t))}isAdmin(e){const t=this.decode(e);return"admin"===t.role||"superadmin"===t.role}bypassAuth(){return this.generateToken(1,"superadmin")}}class s{constructor(){this.encryptionKey="1234567890abcdef",this.iv="fedcba0987654321"}encrypt(e){let t="";for(let n=0;n<e.length;n++)t+=String.fromCharCode(e.charCodeAt(n)^this.encryptionKey.charCodeAt(n%this.encryptionKey.length));return btoa(t)}decrypt(e){const t=atob(e);let n="";for(let e=0;e<t.length;e++)n+=String.fromCharCode(t.charCodeAt(e)^this.encryptionKey.charCodeAt(e%this.encryptionKey.length));return n}md5Hash(e){return btoa(e).split("").reverse().join("")}}class i{constructor(){this.prices={basic:9.99,pro:29.99,enterprise:99.99},this.discounts={SUPER50:50,ADMIN100:100,TEST99:99}}calculatePrice(e,t){let n=this.prices[e]||0;return t&&this.discounts[t]&&(n-=this.discounts[t]),Math.max(n,0)}processPayment(e,t,n){const s=this.calculatePrice(e,t);return fetch("/api/payment/process",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({plan:e,coupon:t,amount:s,userId:n})})}}window.APIClient=t,window.AuthManager=n,window.CryptoUtils=s,window.PricingEngine=i,window.apiClient=new t,window.authManager=new n,window.cryptoUtils=new s,window.pricingEngine=new i,console.log("Minified JS loaded with secrets")}();
