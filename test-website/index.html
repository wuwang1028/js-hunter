<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>JS Hunter Test Website - æ¸—é€æµ‹è¯•JSåˆ†æå·¥å…·æµ‹è¯•é¡µé¢</title>
  <link rel="stylesheet" href="css/style.css">
  
  <!-- å¤–éƒ¨JSæ–‡ä»¶æµ‹è¯• -->
  <script src="js/external-normal.js"></script>
  <script src="js/external-minified.js"></script>
  <script src="js/external-obfuscated.js"></script>
  <script src="js/framework-vue.js"></script>
  
  <!-- å†…è”JSæµ‹è¯• - åŒ…å«æ•æ„Ÿä¿¡æ¯ -->
  <script>
    // æµ‹è¯•åœºæ™¯1ï¼šAPIå¯†é’¥æ³„éœ²
    const API_CONFIG = {
      stripePublicKey: 'pk_test_51HqJ8KLmN9pQrStUvWxYz012345678901234567890AbCdEf',
      stripeSecretKey: 'sk_test_EXAMPLE_NOT_REAL_51HqJ8KLmN9pQrStUvWxYz', // é«˜å±ï¼ï¼ˆæµ‹è¯•å¯†é’¥ï¼‰
      awsAccessKey: 'AKIAIOSFODNN7EXAMPLE',
      awsSecretKey: 'wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY',
      googleMapsKey: 'AIzaSyDXYZ1234567890abcdefghijklmnopqrstuv',
      internalApiUrl: 'https://internal-api.company.local/v1',
      databaseHost: '10.0.0.5:3306',
      adminPassword: 'Admin@123456' // æåº¦å±é™©ï¼
    };

    // æµ‹è¯•åœºæ™¯2ï¼šAPIç«¯ç‚¹å‘ç°
    const API_ENDPOINTS = {
      login: '/api/auth/login',
      register: '/api/auth/register',
      getUserInfo: '/api/users/:id',
      updateProfile: '/api/users/:id/profile',
      deleteAccount: '/api/users/:id/delete',
      adminPanel: '/api/admin/dashboard', // éšè—ç«¯ç‚¹
      debugInfo: '/api/debug/info', // è°ƒè¯•ç«¯ç‚¹
      internalStats: '/api/internal/stats', // å†…éƒ¨ç«¯ç‚¹
      paymentProcess: '/api/payments/process',
      refundRequest: '/api/payments/refund'
    };

    // æµ‹è¯•åœºæ™¯3ï¼šè®¤è¯é€»è¾‘æ¼æ´
    function checkAuth() {
      const token = localStorage.getItem('authToken');
      // å±é™©ï¼šä»…åœ¨å‰ç«¯éªŒè¯
      if (token && token.length > 10) {
        return true;
      }
      return false;
    }

    function generateToken(userId, role) {
      // å±é™©ï¼šTokenæ— ç­¾åï¼Œå¯ä¼ªé€ 
      return btoa(JSON.stringify({
        userId: userId,
        role: role,
        timestamp: Date.now()
      }));
    }

    // æµ‹è¯•åœºæ™¯4ï¼šä¸šåŠ¡é€»è¾‘æ¼æ´ - ä»·æ ¼è®¡ç®—åœ¨å®¢æˆ·ç«¯
    function calculateTotalPrice(items) {
      let total = 0;
      items.forEach(item => {
        total += item.price * item.quantity;
      });
      // å±é™©ï¼šä»·æ ¼åœ¨å®¢æˆ·ç«¯è®¡ç®—ï¼Œå¯è¢«ç¯¡æ”¹
      return total;
    }

    function submitOrder(items) {
      const totalPrice = calculateTotalPrice(items);
      fetch('/api/orders', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({
          items: items,
          totalPrice: totalPrice // å¯ä»¥ä¿®æ”¹ä¸º0.01
        })
      });
    }

    // æµ‹è¯•åœºæ™¯5ï¼šåŠ å¯†ç®—æ³•å¼±ç‚¹
    function encryptPassword(password) {
      // å±é™©ï¼šä½¿ç”¨Base64è€ŒéçœŸæ­£çš„åŠ å¯†
      return btoa(password);
    }

    function hashData(data) {
      // å±é™©ï¼šä½¿ç”¨å·²å¼ƒç”¨çš„MD5
      return md5(data);
    }

    // æµ‹è¯•åœºæ™¯6ï¼šéšè—åŠŸèƒ½å’ŒFeature Flags
    const FEATURE_FLAGS = {
      enableAdminMode: false,
      enableDebugPanel: false,
      enableBetaFeatures: true,
      bypassPayment: false, // å±é™©çš„flag
      skipEmailVerification: true
    };

    // éšè—çš„ç®¡ç†å‘˜åŠŸèƒ½
    if (window.location.hash === '#admin-secret-2024') {
      FEATURE_FLAGS.enableAdminMode = true;
      console.log('Admin mode activated!');
    }

    // æµ‹è¯•åœºæ™¯7ï¼šXSSæ¼æ´
    function displayUserComment(comment) {
      // å±é™©ï¼šç›´æ¥æ’å…¥HTMLï¼Œæœªè½¬ä¹‰
      document.getElementById('comments').innerHTML += `<div>${comment}</div>`;
    }

    // æµ‹è¯•åœºæ™¯8ï¼šåŸå‹æ±¡æŸ“
    function merge(target, source) {
      for (let key in source) {
        // å±é™©ï¼šæœªæ£€æŸ¥__proto__
        target[key] = source[key];
      }
      return target;
    }
  </script>
</head>
<body>
  <div class="container">
    <header>
      <h1>ğŸ¯ JS Hunter Test Website</h1>
      <p>JavaScript Analysis Tool for Penetration Testing - åŠŸèƒ½æµ‹è¯•é¡µé¢</p>
    </header>

    <main>
      <section class="test-section">
        <h2>ğŸ“‹ æµ‹è¯•åœºæ™¯è¯´æ˜</h2>
        <p>æœ¬é¡µé¢åŒ…å«å¤šç§JSä»£ç æ¨¡å¼ï¼Œç”¨äºæµ‹è¯•JS Hunterçš„åˆ†æèƒ½åŠ›ï¼š</p>
        <ul>
          <li><strong>å¤–éƒ¨JSæ–‡ä»¶</strong>ï¼šæ­£å¸¸ã€å‹ç¼©ã€æ··æ·†ã€æ¡†æ¶ä»£ç </li>
          <li><strong>å†…è”JS</strong>ï¼šAPIå¯†é’¥ã€ç«¯ç‚¹ã€è®¤è¯é€»è¾‘ã€ä¸šåŠ¡é€»è¾‘</li>
          <li><strong>åŠ¨æ€JS</strong>ï¼šåŠ¨æ€åŠ è½½çš„è„šæœ¬</li>
          <li><strong>Evalæ‰§è¡Œ</strong>ï¼šåŠ¨æ€ä»£ç æ‰§è¡Œ</li>
          <li><strong>æ•æ„Ÿä¿¡æ¯</strong>ï¼šAPIå¯†é’¥ã€å¯†ç ã€å†…éƒ¨URL</li>
          <li><strong>æ¼æ´æ¨¡å¼</strong>ï¼šXSSã€åŸå‹æ±¡æŸ“ã€è®¤è¯ç»•è¿‡</li>
          <li><strong>éšè—åŠŸèƒ½</strong>ï¼šéšè—ç«¯ç‚¹ã€è°ƒè¯•æ¥å£ã€Feature Flags</li>
        </ul>
      </section>

      <section class="test-section">
        <h2>ğŸ” æµ‹è¯•æ“ä½œ</h2>
        <div class="test-controls">
          <button onclick="loadDynamicScript()">åŠ è½½åŠ¨æ€JS</button>
          <button onclick="executeEval()">æ‰§è¡ŒEvalä»£ç </button>
          <button onclick="testAPICall()">æµ‹è¯•APIè°ƒç”¨</button>
          <button onclick="testAuth()">æµ‹è¯•è®¤è¯</button>
          <button onclick="testPayment()">æµ‹è¯•æ”¯ä»˜é€»è¾‘</button>
          <button onclick="showHiddenFeatures()">æ˜¾ç¤ºéšè—åŠŸèƒ½</button>
        </div>
      </section>

      <section class="test-section">
        <h2>ğŸ“Š æµ‹è¯•ç»“æœ</h2>
        <div id="test-results" class="results-panel">
          <p>ç‚¹å‡»ä¸Šæ–¹æŒ‰é’®è¿›è¡Œæµ‹è¯•...</p>
        </div>
      </section>

      <section class="test-section">
        <h2>ğŸ’¬ ç”¨æˆ·è¯„è®ºåŒºï¼ˆXSSæµ‹è¯•ï¼‰</h2>
        <div id="comments"></div>
        <input type="text" id="comment-input" placeholder="è¾“å…¥è¯„è®º...">
        <button onclick="submitComment()">æäº¤è¯„è®º</button>
      </section>
    </main>

    <footer>
      <p>Â© 2024 JS Hunter Test Website | ä»…ç”¨äºå®‰å…¨æµ‹è¯•</p>
    </footer>
  </div>

  <!-- åŠ¨æ€åŠ è½½æµ‹è¯• -->
  <script>
    function loadDynamicScript() {
      const script = document.createElement('script');
      script.src = 'js/dynamic-loaded.js';
      document.body.appendChild(script);
      log('åŠ¨æ€è„šæœ¬å·²åŠ è½½');
    }

    function executeEval() {
      // æµ‹è¯•evalæ‹¦æˆª
      const code = `
        console.log('Eval executed!');
        const secretKey = 'eval-secret-key-12345';
        alert('Eval test: ' + secretKey);
      `;
      eval(code);
      log('Evalä»£ç å·²æ‰§è¡Œ');
    }

    function testAPICall() {
      fetch('/api/users/123', {
        headers: {
          'Authorization': 'Bearer ' + generateToken(123, 'user')
        }
      })
      .then(res => res.json())
      .then(data => log('APIè°ƒç”¨æˆåŠŸ: ' + JSON.stringify(data)))
      .catch(err => log('APIè°ƒç”¨å¤±è´¥: ' + err.message));
    }

    function testAuth() {
      const token = generateToken(1, 'admin');
      localStorage.setItem('authToken', token);
      log('è®¤è¯Tokenå·²ç”Ÿæˆ: ' + token);
      
      if (checkAuth()) {
        log('è®¤è¯é€šè¿‡ï¼');
      } else {
        log('è®¤è¯å¤±è´¥ï¼');
      }
    }

    function testPayment() {
      const items = [
        { name: 'Product A', price: 100, quantity: 2 },
        { name: 'Product B', price: 50, quantity: 1 }
      ];
      const total = calculateTotalPrice(items);
      log(`è®¢å•æ€»ä»·: ${total}å…ƒï¼ˆå¯åœ¨æµè§ˆå™¨ä¸­ç¯¡æ”¹ï¼‰`);
    }

    function showHiddenFeatures() {
      log('Feature Flags: ' + JSON.stringify(FEATURE_FLAGS, null, 2));
      log('éšè—ç«¯ç‚¹: /api/admin/dashboard, /api/debug/info');
      log('æç¤º: è®¿é—® #admin-secret-2024 æ¿€æ´»ç®¡ç†å‘˜æ¨¡å¼');
    }

    function submitComment() {
      const comment = document.getElementById('comment-input').value;
      displayUserComment(comment);
      log('è¯„è®ºå·²æäº¤ï¼ˆå­˜åœ¨XSSé£é™©ï¼‰');
    }

    function log(message) {
      const results = document.getElementById('test-results');
      const time = new Date().toLocaleTimeString();
      results.innerHTML += `<div class="log-entry">[${time}] ${message}</div>`;
    }

    // é¡µé¢åŠ è½½å®Œæˆ
    window.addEventListener('load', () => {
      log('æµ‹è¯•é¡µé¢åŠ è½½å®Œæˆ');
      log('æ£€æµ‹åˆ° ' + document.scripts.length + ' ä¸ªè„šæœ¬');
    });

    // WebSocketæµ‹è¯•
    function testWebSocket() {
      const ws = new WebSocket('wss://api.example.com/ws');
      ws.onopen = () => {
        ws.send(JSON.stringify({
          action: 'authenticate',
          token: API_CONFIG.stripeSecretKey
        }));
      };
    }
  </script>
</body>
</html>
